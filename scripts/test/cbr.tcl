# udp data

set opt(tn) 0
set opt(interval) 15.0

set s(0)	1242	;	set d(0)	65
set s(1)	1243	;	set d(1)	65
set s(2)	1244	;	set d(2)	65
set s(3)	1245	;	set d(3)	65
set s(4)	1246	;	set d(4)	65
set s(5)	1247	;	set d(5)	65
set s(6)	1248	;	set d(6)	65
set s(7)	1280	;	set d(7)	65
set s(8)	1281	;	set d(8)	65
set s(9)	1282	;	set d(9)	65
set s(10)	1283	;	set d(10)	65
set s(11)	1284	;	set d(11)	65
set s(12)	1285	;	set d(12)	65
set s(13)	1286	;	set d(13)	65
set s(14)	1287	;	set d(14)	65
set s(15)	1319	;	set d(15)	65
set s(16)	1320	;	set d(16)	65
set s(17)	1321	;	set d(17)	65
set s(18)	1322	;	set d(18)	65
set s(19)	1323	;	set d(19)	65
set s(20)	1324	;	set d(20)	65
set s(21)	1325	;	set d(21)	65
set s(22)	1326	;	set d(22)	65
set s(23)	1327	;	set d(23)	65
set s(24)	1328	;	set d(24)	65
set s(25)	1357	;	set d(25)	65
set s(26)	1358	;	set d(26)	65
set s(27)	1359	;	set d(27)	65
set s(28)	1360	;	set d(28)	65
set s(29)	1361	;	set d(29)	65
set s(30)	1362	;	set d(30)	65
set s(31)	1363	;	set d(31)	65
set s(32)	1364	;	set d(32)	65
set s(33)	1365	;	set d(33)	65
set s(34)	1366	;	set d(34)	65
set s(35)	1395	;	set d(35)	65
set s(36)	1396	;	set d(36)	65
set s(37)	1397	;	set d(37)	65
set s(38)	1398	;	set d(38)	65
set s(39)	1399	;	set d(39)	65
set s(40)	1400	;	set d(40)	65
set s(41)	1401	;	set d(41)	65
set s(42)	1402	;	set d(42)	65
set s(43)	1403	;	set d(43)	65
set s(44)	1404	;	set d(44)	65
set s(45)	1467	;	set d(45)	65
set s(46)	1492	;	set d(46)	65
set s(47)	1253	;	set d(47)	65
set s(48)	1290	;	set d(48)	65
set s(49)	1291	;	set d(49)	65
set s(50)	1292	;	set d(50)	65
set s(51)	1293	;	set d(51)	65
set s(52)	1329	;	set d(52)	65
set s(53)	1330	;	set d(53)	65
set s(54)	1331	;	set d(54)	65
set s(55)	1332	;	set d(55)	65
set s(56)	1333	;	set d(56)	65
set s(57)	1367	;	set d(57)	65
set s(58)	1368	;	set d(58)	65
set s(59)	1369	;	set d(59)	65
set s(60)	1370	;	set d(60)	65
set s(61)	1371	;	set d(61)	65
set s(62)	1405	;	set d(62)	65
set s(63)	1406	;	set d(63)	65
set s(64)	1407	;	set d(64)	65
set s(65)	1408	;	set d(65)	65
set s(66)	1409	;	set d(66)	65
set s(67)	1257	;	set d(67)	65
set s(68)	1258	;	set d(68)	65
set s(69)	1259	;	set d(69)	65
set s(70)	1260	;	set d(70)	65
set s(71)	1261	;	set d(71)	65
set s(72)	1262	;	set d(72)	65
set s(73)	1263	;	set d(73)	65
set s(74)	1264	;	set d(74)	65
set s(75)	1265	;	set d(75)	65
set s(76)	1266	;	set d(76)	65
set s(77)	1267	;	set d(77)	65
set s(78)	1295	;	set d(78)	65
set s(79)	1296	;	set d(79)	65
set s(80)	1297	;	set d(80)	65
set s(81)	1298	;	set d(81)	65
set s(82)	1299	;	set d(82)	65
set s(83)	1300	;	set d(83)	65
set s(84)	1301	;	set d(84)	65
set s(85)	1302	;	set d(85)	65
set s(86)	1303	;	set d(86)	65
set s(87)	1201	;	set d(87)	65
set s(88)	1236	;	set d(88)	65
set s(89)	1237	;	set d(89)	65
set s(90)	1273	;	set d(90)	65
set s(91)	1274	;	set d(91)	65
set s(92)	1275	;	set d(92)	65
set s(93)	1276	;	set d(93)	65
set s(94)	1278	;	set d(94)	65
set s(95)	1311	;	set d(95)	65
set s(96)	1312	;	set d(96)	65
set s(97)	1313	;	set d(97)	65
set s(98)	1314	;	set d(98)	65
set s(99)	1315	;	set d(99)	65
set s(100)	1279	;	set d(100)	65
set s(101)	1318	;	set d(101)	65
set s(102)	1356	;	set d(102)	65
set s(103)	1169	;	set d(103)	65
set s(104)	1170	;	set d(104)	65
set s(105)	1172	;	set d(105)	65
set s(106)	1206	;	set d(106)	65
set s(107)	1207	;	set d(107)	65
set s(108)	1208	;	set d(108)	65
set s(109)	1209	;	set d(109)	65
set s(110)	1210	;	set d(110)	65
set s(111)	1211	;	set d(111)	65
set s(112)	1212	;	set d(112)	65
set s(113)	1213	;	set d(113)	65
set s(114)	1214	;	set d(114)	65
set s(115)	1249	;	set d(115)	65
set s(116)	1250	;	set d(116)	65
set s(117)	1251	;	set d(117)	65
set s(118)	1252	;	set d(118)	65
set s(119)	1254	;	set d(119)	65
set s(120)	1336	;	set d(120)	65
set s(121)	1337	;	set d(121)	65
set s(122)	1338	;	set d(122)	65
set s(123)	1339	;	set d(123)	65
set s(124)	1340	;	set d(124)	65
set s(125)	1341	;	set d(125)	65
set s(126)	1342	;	set d(126)	65
set s(127)	1343	;	set d(127)	65
set s(128)	1344	;	set d(128)	65
set s(129)	1345	;	set d(129)	65
set s(130)	1373	;	set d(130)	65
set s(131)	1374	;	set d(131)	65
set s(132)	1375	;	set d(132)	65
set s(133)	1376	;	set d(133)	65
set s(134)	1377	;	set d(134)	65
set s(135)	1309	;	set d(135)	65
set s(136)	1310	;	set d(136)	65
set s(137)	1316	;	set d(137)	65
set s(138)	1317	;	set d(138)	65
set s(139)	1348	;	set d(139)	65
set s(140)	1349	;	set d(140)	65
set s(141)	1350	;	set d(141)	65
set s(142)	1351	;	set d(142)	65
set s(143)	1352	;	set d(143)	65
set s(144)	1353	;	set d(144)	65
set s(145)	1354	;	set d(145)	65
set s(146)	1355	;	set d(146)	65
set s(147)	1386	;	set d(147)	65
set s(148)	1387	;	set d(148)	65
set s(149)	1388	;	set d(149)	65

for {set i 0} {$i < $opt(tn)} {incr i} {
	$mnode_($s($i)) setdest [$mnode_($d($i)) set X_] [$mnode_($d($i)) set Y_] 0

	set sink_($i) [new Agent/Null]
	set udp_($i) [new Agent/UDP]	
	$ns_ attach-agent $mnode_($d($i)) $sink_($i)
	$ns_ attach-agent $mnode_($s($i)) $udp_($i)
	$ns_ connect $udp_($i) $sink_($i)
	$udp_($i) set fid_ 2

	#Setup a CBR over UDP connection
	set cbr_($i) [new Application/Traffic/CBR]
	$cbr_($i) attach-agent $udp_($i)
	$cbr_($i) set type_ CBR
	$cbr_($i) set packet_size_ 50
	$cbr_($i) set rate_ 0.1Mb
	$cbr_($i) set interval_ $opt(interval)
	#$cbr set random_ false

	$ns_ at [expr 100 + [expr $i - 1] * $opt(interval) / $opt(tn)] "$cbr_($i) start"
	$ns_ at [expr $opt(stop) - 5] "$cbr_($i) stop"
}
